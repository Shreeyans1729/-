<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>F.R.I.E.N.D.S. — Teacher's Day</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-dark:#070216;
    --violet:#8a68ff;
    --soft-pink:#ffb0dd;
    --soft-cyan:#7ef0e6;
    --card-bg: rgba(255,255,255,0.04);
    --glass-border: rgba(255,255,255,0.06);
    --radius:18px;
    --maxw:980px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Montserrat',sans-serif;background:
    radial-gradient(800px 500px at 10% 10%, rgba(138,104,255,0.06), transparent 5%),
    radial-gradient(700px 460px at 90% 90%, rgba(255,176,221,0.06), transparent 6%),
    linear-gradient(180deg,var(--bg-dark) 0%, #0a0220 100%);
    color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow-x:hidden;
  }

  /* Aurora (soft moving color) */
  .aurora{
    position:fixed; inset:-20%; z-index:0; pointer-events:none; mix-blend-mode:screen; filter:blur(26px);
    background:
      radial-gradient(600px 220px at 12% 18%, rgba(138,104,255,0.09), transparent 16%),
      radial-gradient(520px 200px at 85% 75%, rgba(255,176,221,0.08), transparent 14%),
      radial-gradient(420px 180px at 50% 40%, rgba(126,240,230,0.06), transparent 12%);
    animation: aur 26s ease-in-out infinite alternate;
  }
  @keyframes aur{ from{transform:translate(0,0)} to{transform:translate(6%, -6%)} }

  /* particles (soft dots drifting up) */
  .particle { position:fixed; width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,0.06); filter:blur(0.8px); z-index:0; pointer-events:none; animation:drift 12s linear infinite; }
  @keyframes drift{ 0%{transform:translateY(100vh) scale(.6); opacity:0} 10%{opacity:0.85} 90%{opacity:0.85} 100%{transform:translateY(-10vh) scale(1.1); opacity:0} }

  /* floating emojis bg */
  .emoji-bg{ position:fixed; inset:0; z-index:0; pointer-events:none; opacity:0.2; overflow:hidden; }
  .emoji-float{ position:absolute; user-select:none; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.6)); animation-timing-function:linear; }

  /* wrapper & layout */
  .wrap{ min-height:100vh; display:flex; align-items:flex-start; justify-content:center; padding:36px 18px 80px; gap:20px; position:relative; z-index:2; }
  .card{ width:100%; max-width:760px; border-radius:var(--radius); background:var(--card-bg); border:1px solid var(--glass-border); padding:28px; box-shadow: 0 18px 60px rgba(0,0,0,0.6); backdrop-filter: blur(10px) saturate(1.1); transition:transform .45s, opacity .4s; margin:12px auto; }

  .title{ font-family:'Orbitron',sans-serif; font-size:2.1rem; letter-spacing:2px; color:transparent; background:linear-gradient(90deg,var(--soft-pink),var(--violet),var(--soft-cyan)); -webkit-background-clip:text; margin-bottom:12px; border-right:.12em solid rgba(255,255,255,0.7); white-space:nowrap; overflow:hidden; animation:typing 2.2s steps(36,end), blink .8s step-end infinite; }
  @keyframes typing{ from{width:0} to{width:100%} } @keyframes blink{ 50%{border-color:transparent} }

  h2.section { text-align:center; margin:8px 0 10px; font-size:1rem; color:#fff; font-weight:700; letter-spacing:0.6px; }

  /* inputs */
  .input { width:100%; padding:12px 14px; border-radius:10px; border:none; background:#0b0b14; color:#fff; font-size:1rem; outline:none; box-shadow: inset 0 -4px 18px rgba(0,0,0,0.5); }
  .small-note{ color:rgba(255,255,255,0.8); font-size:0.95rem; margin-top:8px; text-align:center; }

  .btn-row{ display:flex; justify-content:center; gap:14px; margin-top:14px; flex-wrap:wrap; }
  .btn{ padding:10px 20px; border-radius:999px; border:none; cursor:pointer; font-family:'Orbitron',sans-serif; font-weight:700; letter-spacing:0.6px; background:linear-gradient(90deg,var(--violet),var(--soft-pink)); color:#fff; box-shadow:0 10px 30px rgba(120,90,250,0.08); transition:transform .18s, box-shadow .18s; }
  .btn:active{ transform:translateY(1px); }
  .btn.ghost{ background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff; }
  .btn:hover{ box-shadow:0 18px 50px rgba(120,90,250,0.16); transform:translateY(-3px); }

  /* progress */
  .progress-wrap{ width:100%; max-width:var(--maxw); margin:12px auto 0; }
  .progress-outer{ height:12px; background:rgba(255,255,255,0.04); border-radius:999px; overflow:hidden; border:1px solid rgba(255,255,255,0.03); box-shadow:0 8px 30px rgba(0,0,0,0.6); }
  .progress-inner{ height:100%; width:0%; background: linear-gradient(90deg,var(--soft-pink),var(--violet),var(--soft-cyan)); transition: width .75s cubic-bezier(.2,.9,.2,1); box-shadow:0 0 26px rgba(138,104,255,0.09); }

  /* story styles */
  .story-list{ text-align:left; line-height:1.6; color:#fff; margin-top:12px; }
  .story-list b{ display:block; margin-bottom:6px; color:var(--soft-pink); }

  .emoji-reactions{ display:flex; gap:16px; justify-content:center; margin:12px 0; }
  .emoji-reaction-btn{ background:transparent; border:none; font-size:1.5rem; cursor:pointer; user-select:none; position:relative; }
  .emoji-reaction-count{ display:block; font-size:0.78rem; color:#fff9a6; text-align:center; margin-top:-6px; }

  /* teacher search */
  .search-row{ display:flex; justify-content:center; margin-top:10px; }
  .search-inner{ width:100%; max-width:720px; background:#0b0b14; border-radius:12px; padding:8px 12px; display:flex; gap:10px; align-items:center; box-shadow:inset 0 -2px 18px rgba(0,0,0,0.6); }
  .search-input{ flex:1; border:none; outline:none; background:transparent; color:#fff; font-size:1rem; }

  /* final */
  .final-note{ text-align:left; line-height:1.55; color:#fff; }

  /* canvas */
  canvas#fw{ position:fixed; left:0; top:0; width:100%; height:100%; z-index:9; pointer-events:none; }

  /* responsive */
  @media (max-width:720px){
    .card{ padding:18px; border-radius:14px; }
    .title{ font-size:1.4rem; }
  }
</style>
</head>
<body>
  <div class="aurora" aria-hidden="true"></div>
  <div id="emojiBg" class="emoji-bg" aria-hidden="true"></div>

  <div class="progress-wrap" aria-hidden="false" style="position:relative; z-index:2;">
    <div class="progress-outer">
      <div class="progress-inner" id="progressBar"></div>
    </div>
  </div>

  <div class="wrap">
    <!-- LOGIN -->
    <section id="loginContainer" class="card" aria-labelledby="t1">
      <div id="t1" class="title">F.R.I.E.N.D.S.</div>
      <h2 class="section">NAAM</h2>
      <input id="naam" class="input" placeholder="Naam likho (Enter your name)" autocomplete="off" />
      <h2 class="section">JINDA</h2>
      <div class="btn-row" id="jindaGroup" role="group" aria-label="jinda">
        <button class="btn" id="haa">HAA</button>
        <button class="btn ghost" id="naa">NAA</button>
      </div>
      <input type="hidden" id="jinda">
      <div id="jindaError" style="color:#ff8b8b;text-align:center;display:none;margin-top:8px;">Select HAA or NAA</div>

      <div style="margin-top:12px;">
        <textarea id="say" class="input" placeholder="Say something to me:" style="min-height:86px;padding-top:12px;"></textarea>
      </div>
      <div id="sayError" style="color:#ff8b8b;text-align:center;display:none;margin-top:8px;">Please say something!</div>

      <div class="btn-row">
        <button id="submitBtn" class="btn">THOKO</button>
      </div>

      <div class="small-note">😆 No database here, so your data just vanishes like my motivation on Monday!</div>
    </section>

    <!-- SUCCESS (uses your exact DOSTI YAARI EMOTIONS text) -->
    <section id="successBox" class="card" style="display:none;">
      <div style="font-size:2.4rem;text-align:center;margin-bottom:6px;">DOSTI YAARI EMOTIONS</div>
      <ol class="story-list">
        <li>1. Yaar sach bolu toh tum log bahut yaad aa rahe ho.</li>
        <li>2. Aise lagta hai jaise koi part of life missing ho.</li>
        <li>3. Pehle har din masti hoti thi, ab sirf kaam aur boredom hai.</li>
        <li>4. Woh choti-choti baatein, lame jokes, aur nonstop bakchodi — sab yaad aati hai.</li>
        <li>5. Kabhi kabhi toh pura flashback chal jaata hai dimaag mein.</li>
        <li>6. Tum logon ke bina har plan adhoora lagta hai.</li>
        <li>7. Group chat mein bhi ab woh dhamaka nahi raha.</li>
        <li>8. Seriously, milna chahiye jaldi, warna yaadon se hi dosti karni padegi.</li>
        <li>9. Chal, koi ek plan banate hain — time, jagah fix karo!</li>
        <li>10. Tum sab jaise dost dobara nahi milte... bas mil jao ab wapas! 🤟</li>
      </ol>
      <div style="text-align:center;margin-top:12px;color:#ffd68f;">You can close this tab now. Have a great day!</div>

      <div class="btn-row" style="margin-top:16px;">
        <button id="toStoryBtn" class="btn">THOKO ALSO</button>
      </div>
    </section>

    <!-- STORY (teachers list exactly as provided) -->
    <section id="storyPage" class="card" style="display:none;">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div class="title" style="font-size:1.2rem; border-right:none; animation:none; -webkit-background-clip:text; -webkit-text-fill-color:transparent;">Hello doston! 👿🤘</div>
      </div>

      <div class="emoji-reactions" id="emojiReactions1">
        <button class="emoji-reaction-btn" data-emoji="😂">😂<span class="emoji-reaction-count" id="emojiCount-😂">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="😈">😈<span class="emoji-reaction-count" id="emojiCount-😈">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="🤙">🤙<span class="emoji-reaction-count" id="emojiCount-🤙">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="🤘">🤘<span class="emoji-reaction-count" id="emojiCount-🤘">0</span></button>
      </div>

      <div class="search-row" style="margin-top:6px;">
        <div class="search-inner">
          <div style="color:var(--soft-pink); margin-right:8px;">🔎</div>
          <input id="teacherSearch" class="search-input" placeholder="Type to search teachers..." />
        </div>
      </div>

      <div class="story-list" style="margin-top:14px;">
        <div><b>School ke teachers aur unki yaadein:</b></div>
        <ul id="teachersList" style="margin-top:8px;">
<li><b>Rishav Sir</b>:
Saatvi mein aaye, thoda style dikhane lage, Krish ke saath football ke kisse sunane lage. Maths ki trick se sabko gumaan mein daalne lage, Girls ke dil mein silently bas jaane lage. 💫
Aathvi mein aaye, class teacher bane khaas, Science weak tha, par bataya kaise hota hai paas. Support mila unse, har sawal ka mila ulta-jawaab, Guidance mein unka tha ek alag hi andaaz. ✨
Phir hostel gaye, hum bhi piche-piche nikal gaye, Football ke field mein Josh ke saath mil gaye. Shuru mein laga, bhai kya mast game hai bhai, Par kuch dino mein samjha — sir toh goal banake bas pass hi kar gaye! 😅
Saatvi se dasvi tak mila unka pyaar, Kabhi na lage ki sir door ho to ho intezaar. Har mor pe kiya help, na chhoda kabhi yeh yaar, Rishav sir jaise teacher — milte hain bade dildaar! ❤️
Vo gaane gaana.. Vo bachchon ko dusre duniyaan ka shair karana kuch alag hi tha unka pyar💝</li><br>

<li><b>Chandraketu Sir</b>:
Dekha tha pehle bhi, kabhi is ma'am ke saath, kabhi uske saath, Par mulaqat hui theek se 9th mein, class teacher ke path. Sportive the itne, ke ghar baat karni ho toh bolo saaf, Kuch mangwana ho toh bolo — jaise teacher nahi koi bhai ka raaf! 😄
Prantik ka rakhte the khaas khayaal, dil se karte the care, Par uss extra pyaar ne banaya kuch aur students ko beware. Complain hui, mood change hua, aur badal gaya poora flair, Kabhi chill sir, ban gaye serious — laga ho gaya unfair. 😅
Pehle padhate-padhate phone mein kho jaate the mast, Phir achanak kitabon se ban gaya unka vishwas ka rasta sasta aur past. Lekin yaad hai ek scene, jiska maza sabne liya tha hardcast — Arnav ko bola, "I welcome you," aur sabka ho gaya burst-blast! 💥
Kabhi pyaar se, kabhi dosti se, kabhi phone se judte the sir, Chandraketu sir jaise teachers — yaadon mein reh jaate hain zarur. Thoda hassi, thoda gussa, thoda sweet aur thoda blur, Par ek baat pakki — unke bina class lagti thi bilkul bas "dull" aur "burr"! 😌
Board pe chalk uthake jab likhne ka aata tha scene, Par finger hoti thi middle, aur class ho jaati silent screen. Koi kuch na bole, sab aankhon se karte the baat, Ek dusre ko dekh muskaate, le lete mazaak ka swaad. 😁</li><br>

<li><b>Sudhakar Sir</b>:
Pehchaan thi pehle se, exam department ke the star, Class 9th mein aaye tab mila unka asli avataar. Janwar ki tarah marte the, karte na kisi se vyavahaar, Homework ka tha dher, aur aankhon mein bas tha maar! 😬
Kahi se aate, maar ke jaate, bas dhoondte the bahana, Na koi hello, na haan, bas chalti thi unki purani kahaniyana. Par department wale the, to kabhi help ka milta tha khazana, Samajh aaya — daant ke peeche bhi tha ek asliyat ka thikana. 📘
Do period ke baad le jaate games mein, hota tha sukoon, Class se bahar nikalte hi milta tha ek naya junoon. N.C.E.R.T. ke alawa kuch mat padho, bas yahi tha unka kanoon, Lekin unke motivation ne, bana diya padhai ka bhi ek khoobsurat dhoon. 🎯
Baat-baat mein mazaak bhi karte, muskurahat thi andekhi, Help karte the chhupke se, unki niyat thi kuch alag si dekhi. Sudhakar Sir — the strict bhi, sweet bhi, thode se unique the sahi, Unke jaise teacher ho toh darr bhi lage... aur lage yaari bhi kahi! ❤️</li><br>

<li><b>Divya Jyoti Mam</b>: Science ki queen, masti ki machine.</li>
<li><b>Sujit & Pratyush Sir</b>: Hamare superheroes, hamesha ready to help.</li>
<li><b>Vikash Sir</b>: "Padho na ji, exam sir pe hai!"</li>

<li><b>Arun Sir</b>:
Civics padhate the, par gungaan tha BJP ka raag, Har class mein lagta tha jaise ho rahi ho koi bhaashan ki aag. Helpful the zarur, par gussa aaye toh ban jaayein tiger ka swaroop, Tab toh bas chup rehna tha, warna milta tha ek political dhoop. 🔥
Motivation ka the storehouse, baatein karte the dil se, Par har line ke baad aata tha – “Main bhi hoon na ek misaal iss silsile se!” Line thi unki favourite – “Dusro ki jay se pehle apni jay kare,” Aur ussi mein unka swagger tha — "main kya kam hoon yeh sabko pata chale!" 😎
Personal life bhi humse share karte, jaise ho ghar ki party, "Aaj Pihu ke liye chappal liya — batao bhai, kaisi lagti hai Smarty?" 👡
Explaining mein no doubt top-level ka tha unka flow, Par likhna padta tha sirf notes ka hi answer — chahe sense ho ya no! 📄</li><br>

<li><b>Principal Sir</b>: "I sham on you boys!" - sabko yaad hai!</li>
<li><b>Prantik & Chandraketu Sir</b>: Chemistry wali chemistry! 😏</li>
<li><b>Nishant Sir</b>: Bindaas, no filter!</li>
<li><b>Neeraj Sir</b>: Jee-NEET wala gyaan.</li>

<li><b>Ujjwal Sir</b>:
The pehle se school mein, par 2019 ke pehle chale gaye the door, Par jab zarurat padi maths ki, toh wapas aaye ban ke noor. Unke aate hi bhaiya log bole – “Sir toh hai top class,” Unke naam se hi ho gaya, poori class ka blast! 🔥
Class 9th mein mila unse pehli baar, aur kya hi mila tha yaar, Entry lete hi laga jaise – "ab toh padayi lagegi maar!" 😅
Tough se tough concept ko bana dete the asaan, Aur unka IIT ka experience – bhai wah, bilkul tha mahaan! 🎓
Kabhi-kabhi physics ka bhi basic samjha dete the pyar se, Concept clear karna tha unka kaam, bina kisi bhitar ke shor se. 10th tak toh guide kiya har mod pe bina rukawat ke, Aur 10th ke baad bhi samjhaya – "life ka road map kya leke!" 🛣️</li><br>

<li><b>Guddu Sir</b>: "Tor dunga!"</li>
<li><b>Ranjan Sir</b>: "Kut dunga!" & funny towel kahaniyan.</li>
<li><b>Undranil Sir</b>: DJ Snake + BP Check = Allrounder!</li>
<li><b>Kundan Sir</b>: YouTube projector, mini-theatre.</li>
<li><b>Sudipto Sir</b>: Hamari pareshaniyon ka shikar.</li>
<li><b>Manoranjan Sir</b>: Philosopher king.</li>
<li><b>Simon Sir</b>: G** phaad marna since 5th!</li>
<li><b>Ravi Sir</b>: Notes likhwane ki machine.</li>
<li><b>DB Wandgr Sir</b>: Chutney ki recipe aur haryali jokes.</li>
<li><b>Premlata Ma’am & Raushan</b>: Maa-beta jodi, suspense queen.</li>
<li><b>DK Jha Sir</b>: "Ye log padne waale nahi lagte!"</li>
<li><b>Archana Ma’am</b>: Naam lete hi censored ho jaata hai. 🤐</li>
        </ul>
      </div>

      <div style="display:flex;justify-content:center;margin-top:14px;">
        <button id="toWardenBtn" class="btn">THOKO NA RE</button>
      </div>
    </section>

    <!-- WARDEN -->
    <section id="wardenPage" class="card" style="display:none;">
      <div class="story-list">
        <b>Hamare Hostel ke Warden:</b>
        <ul>
          <li><b>Deepak Sir (3rd Floor):</b> "Ek mukka denge na..." Admission number yaad rakhna!</li>
          <li><b>2nd Floor ka warden:</b> (Yahan apna funny yaadgar moments add karo!)</li>
        </ul>
      </div>

      <div style="display:flex;justify-content:center;margin-top:14px;">
        <button id="toFinalBtn" class="btn">THOKO</button>
      </div>
    </section>

    <!-- FINAL -->
    <section id="finalPage" class="card" style="display:none;">
      <div class="final-note">
        <b>Toh doston...</b><br><br>
        Ye thi hamari school life ki original web series –<br>
        Full drama, full comedy, thoda romance, thoda action aur full emotion.<br><br>
        Teachers ka gussa ho ya unka pyaar, unhone sabko kuch na kuch sikhaya zaroor.<br>
        Aur ye yaadein... humesha yaad rahengi.<br><br>
        Thank you sabko – teachers, friends aur in yaadon ko banane wale har ek insaan ko.<br><br>
        🤟 Jai school life, jai nostalgia!
      </div>
    </section>

  </div>

  <canvas id="fw"></canvas>

<script>
/* Utilities */
const $ = id => document.getElementById(id);
const rand = (a,b) => Math.random()*(b-a)+a;

/* Floating emoji background */
(function emojiBG(){
  const EMOJIS = ["💀","☠️","😎","😈","👿","🤟","🤘","🖕","🤙","🤝","😂","😅","🤝"];
  const bg = $('emojiBg');
  function createOne(){
    const el = document.createElement('div');
    el.className='emoji-float';
    el.textContent = EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
    el.style.left = rand(-6,96)+'vw';
    const size = Math.round(rand(20,60));
    el.style.fontSize = size+'px';
    const dur = Math.round(rand(8,18));
    el.style.animationDuration = dur+'s';
    el.style.animationDelay = -Math.round(rand(0,12))+'s';
    el.style.top = '100vh';
    bg.appendChild(el);
    setTimeout(()=> { try{ el.remove() }catch(e){} }, (dur+1)*1000);
  }
  for(let i=0;i<24;i++) createOne();
  setInterval(()=>{ for(let i=0;i<2;i++) createOne(); while(bg.children.length>60) bg.removeChild(bg.children[0]); }, 2600);
})();

/* Particles */
(function makeParticles(){
  for(let i=0;i<12;i++){
    const p = document.createElement('div');
    p.className='particle';
    p.style.left = rand(0,100)+'vw';
    p.style.top = rand(0,100)+'vh';
    p.style.width = p.style.height = (rand(4,9))+'px';
    p.style.animationDuration = (rand(10,18))+'s';
    document.body.appendChild(p);
  }
})();

/* Page order & progress */
const order = ['loginContainer','successBox','storyPage','wardenPage','finalPage'];
function goTo(id){
  order.forEach(o => { const el=$(o); if(el) el.style.display = (o===id)?'block':'none'; });
  updateProgress(id);
}
function updateProgress(id){
  let idx = order.indexOf(id); if(idx<0) idx=0;
  const perc = Math.round(idx/(order.length-1)*100);
  $('progressBar').style.width = perc + '%';
}

/* HAA/NAA */
$('haa').addEventListener('click', ()=>{ $('haa').classList.add('active'); $('naa').classList.remove('active'); $('jinda').value='HAA'; $('jindaError').style.display='none'; });
$('naa').addEventListener('click', ()=>{ $('naa').classList.add('active'); $('haa').classList.remove('active'); $('jinda').value='NAA'; $('jindaError').style.display='none'; });

/* Submit */
$('submitBtn').addEventListener('click', (e)=>{
  e.preventDefault();
  let valid = true;
  if(!$('jinda').value){ $('jindaError').style.display='block'; valid=false; } else $('jindaError').style.display='none';
  if(!$('say') || ($('say') && !$('say').value.trim())){ /* not mandatory now since user provided text separately */ /* keep silent */ }
  if(!valid) return;
  // set user name in success text (we keep your original list, but add personalized small note)
  const nameVal = ($('naam') && $('naam').value.trim()) ? $('naam').value.trim() : 'Dost';
  // show success (text already present unchanged)
  goTo('successBox');
  // append small note under success if not present
  if(!$('.forNameNote')){
    const note = document.createElement('div');
    note.className='forNameNote';
    note.style.textAlign='center';
    note.style.color='#b7fff3';
    note.style.marginTop='10px';
    note.textContent = `Hey ${nameVal}, this one is for you — Happy Teacher's Day!`;
    $('successBox').appendChild(note);
  } else {
    $('.forNameNote').textContent = `Hey ${nameVal}, this one is for you — Happy Teacher's Day!`;
  }
});

/* navigation */
$('toStoryBtn').addEventListener('click', ()=> goTo('storyPage'));
$('toWardenBtn').addEventListener('click', ()=> goTo('wardenPage'));
$('toFinalBtn').addEventListener('click', ()=> { goTo('finalPage'); startFireworks(); });

/* Emoji reactions */
function setupReactions(id){
  const box = $(id);
  if(!box) return;
  box.querySelectorAll('.emoji-reaction-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const span = btn.querySelector('.emoji-reaction-count');
      let n = parseInt(span.textContent||'0',10);
      n++; span.textContent = n;
      btn.classList.add('active');
      setTimeout(()=> btn.classList.remove('active'), 350);
    });
  });
}
setupReactions('emojiReactions1');

/* Teacher search & highlight */
(function teacherSearch(){
  const inp = $('teacherSearch'), list = $('teachersList');
  if(!inp || !list) return;
  inp.addEventListener('input', function(){
    const filter = inp.value.trim().toLowerCase();
    const items = list.querySelectorAll('li');
    items.forEach(li=>{
      const b = li.querySelector('b');
      const name = b ? b.textContent : li.textContent;
      if(filter === '' || li.textContent.toLowerCase().includes(filter) || name.toLowerCase().includes(filter)){
        li.style.display='';
        if(filter && b){
          const re = new RegExp('(' + filter.replace(/[.*+?^${}()|[\]\\]/g,'\\$&') + ')','gi');
          b.innerHTML = b.textContent.replace(re, "<span style='background:rgba(126,240,230,0.12); color:var(--soft-pink); padding:0 4px; border-radius:3px;'>$1</span>");
        } else if(b){
          b.innerHTML = b.textContent;
        }
      } else li.style.display='none';
    });
  });
})();

/* Fireworks (simple particle system) */
(function fireworks(){
  const canvas = $('fw'); if(!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
  addEventListener('resize', resize); resize();

  let particles = [];
  function Particle(x,y,color){
    this.x=x; this.y=y;
    const ang = Math.random()*Math.PI*2;
    const speed = rand(1,6);
    this.vx = Math.cos(ang)*speed;
    this.vy = Math.sin(ang)*speed;
    this.alpha = 1; this.size = rand(1.6,3.8); this.color = color;
  }
  Particle.prototype.update = function(){ this.x+=this.vx; this.y+=this.vy; this.vy+=0.02; this.alpha-=0.02; }
  Particle.prototype.draw = function(){ ctx.globalAlpha = Math.max(0,this.alpha); ctx.fillStyle=this.color; ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill(); ctx.globalAlpha = 1; }

  function burst(x,y){
    const colors = ['#ffb0dd','#8a68ff','#7ef0e6','#fff0f5','#ffd68f'];
    for(let i=0;i<70;i++) particles.push(new Particle(x,y, colors[Math.floor(Math.random()*colors.length)] ));
  }

  let running=false, intervalRef=null;
  function loop(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p=particles[i];
      p.update(); p.draw();
      if(p.alpha<=0) particles.splice(i,1);
    }
    if(running) requestAnimationFrame(loop);
  }

  window.startFireworks = function(){
    if(running) return;
    running=true; loop();
    intervalRef = setInterval(()=> burst(rand(100,canvas.width-100), rand(100,canvas.height-150)), 700);
    setTimeout(()=>{ clearInterval(intervalRef); setTimeout(()=> running=false,5200); }, 9000);
  };
})();

/* small helpers & initial state */
(function init(){
  goTo('loginContainer'); updateProgress('loginContainer');
  // quick Enter key submit on name
  const nameEl = $('naam');
  if(nameEl) nameEl.addEventListener('keydown', e=> { if(e.key==='Enter'){ e.preventDefault(); $('submitBtn').click(); } });
})();
</script>
</body>
</html>
