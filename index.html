<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>F.R.I.E.N.D.S. â€” Teacher's Day</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Orbitron:wght@700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-deep:#080615;
    --bg-mid:#1b0620;
    --glass: rgba(255,255,255,0.04);
    --glass-2: rgba(255,255,255,0.06);
    --accent-cyan: #00fff0;
    --accent-pink: #ff3c70;
    --accent-yellow:#ffbc33;
    --card-radius:20px;
    --max-width:900px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; background: radial-gradient(1200px 600px at 10% 10%, rgba(0,255,240,0.03), transparent 6%), radial-gradient(900px 500px at 90% 90%, rgba(255,60,112,0.03), transparent 6%), linear-gradient(135deg,var(--bg-deep) 0%, var(--bg-mid) 60%); color:#fff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow-x:hidden; }

  /* ---------- Aurora & sparkles ---------- */
  .aurora{ position:fixed; inset:-20%; z-index:0; pointer-events:none; mix-blend-mode:screen; filter:blur(30px);
    background:
      radial-gradient(600px 220px at 10% 18%, rgba(0,255,240,0.06), transparent 20%),
      radial-gradient(420px 180px at 90% 78%, rgba(255,60,112,0.05), transparent 18%);
    animation: aur 22s ease-in-out infinite alternate;
  }
  @keyframes aur{ from{transform:translate(0,0)} to{transform:translate(6%, -6%)} }

  .sparkles{ position:fixed; inset:0; z-index:0; pointer-events:none; overflow:hidden; }
  .spark{ position:absolute; width:6px; height:6px; border-radius:50%; background:rgba(255,255,255,0.06); filter:blur(1px); animation: drift linear infinite; }
  @keyframes drift{ 0%{transform:translateY(100vh) scale(.6); opacity:0} 10%{opacity:0.95} 90%{opacity:0.95} 100%{transform:translateY(-20vh) scale(1.2); opacity:0} }

  /* emoji background */
  .emoji-bg{ position:fixed; inset:0; z-index:0; pointer-events:none; opacity:0.24; overflow:hidden; }
  .emoji-float{ position:absolute; user-select:none; filter: drop-shadow(0 6px 18px rgba(0,255,240,0.06)) drop-shadow(0 6px 24px rgba(255,60,112,0.04)); transform-origin:center; animation-timing-function:linear; }

  /* page wrapper */
  .page-wrap{ min-height:100vh; display:flex; align-items:flex-start; justify-content:center; padding:40px 20px 80px; gap:18px; position:relative; z-index:2; }

  /* progress */
  .progress-wrap{ width:100%; max-width:var(--max-width); margin:12px auto 8px; }
  .progress-outer{ height:12px; background:rgba(255,255,255,0.03); border-radius:999px; overflow:hidden; box-shadow:0 6px 30px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.03); }
  .progress-inner{ height:100%; width:0%; background: linear-gradient(90deg,var(--accent-cyan), #7200ff, var(--accent-pink)); box-shadow:0 0 30px rgba(0,255,240,0.12); transition:width 700ms cubic-bezier(.2,.9,.2,1); }

  /* card */
  .card{ width:100%; max-width:760px; margin:14px auto; border-radius:var(--card-radius); background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12)); border:1px solid var(--glass-2); padding:28px; box-shadow: 0 12px 50px rgba(0,0,0,0.65); backdrop-filter: blur(10px) saturate(1.25); transition:transform 450ms cubic-bezier(.2,.9,.2,1), opacity 420ms; }

  /* top title */
  .title-line{ font-family:'Orbitron',sans-serif; font-weight:700; font-size:2rem; letter-spacing:2px; display:inline-block; color:#fff; text-shadow: 0 0 24px rgba(0,255,240,0.06), 0 0 6px rgba(255,60,112,0.04); border-right:.12em solid rgba(0,255,240,0.8); white-space:nowrap; overflow:hidden; animation: typing 2.1s steps(36,end), blink .8s step-end infinite; margin-bottom:8px; }
  @keyframes typing{ from{width:0} to{width:100%} } @keyframes blink{ 50%{border-color:transparent} }

  .friends-pastel{ color:#89cff0; text-shadow:0 0 18px #c1eaff, 0 0 2px #fff; font-weight:700; }

  /* headings */
  h2.section-title{ font-size:1rem; margin:12px 0 8px; text-align:center; letter-spacing:1px; color:#fff; }

  /* inputs */
  .input-group{ position:relative; margin-bottom:18px; }
  .field{ width:100%; padding:14px 12px; border-radius:12px; border:none; outline:none; background:#0f1220; color:#fff; font-size:1rem; box-shadow: inset 0 -2px 18px rgba(0,0,0,0.6); }
  .label{ position:absolute; left:14px; top:14px; color:rgba(0,255,240,0.5); pointer-events:none; transition:all 160ms; }
  .field:focus + .label, .field:not(:placeholder-shown) + .label{ transform:translateY(-28px); font-size:0.86rem; background:linear-gradient(180deg, rgba(11,10,18,0.7), rgba(11,10,18,0.9)); padding:0 6px; color:var(--accent-cyan); border-radius:6px; }

  textarea.field{ min-height:86px; resize:vertical; padding-top:18px; }

  /* buttons */
  .btn-row{ display:flex; gap:14px; justify-content:center; margin:18px 0; flex-wrap:wrap; }
  .btn{ position:relative; overflow:visible; padding:12px 20px; border-radius:999px; border:none; cursor:pointer; font-family:'Orbitron',sans-serif; letter-spacing:1px; font-weight:700; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08)); color:#fff; box-shadow:0 6px 30px rgba(0,0,0,0.6); transition: transform 150ms, box-shadow 200ms; }
  .btn:active{ transform:translateY(2px); }
  .btn::after{ content:''; position:absolute; inset:0; border-radius:999px; z-index:-1; background:linear-gradient(90deg, rgba(0,255,240,0.12), rgba(114,0,255,0.06), rgba(255,60,112,0.08)); filter:blur(10px); opacity:0; transition:opacity 180ms; }
  .btn:hover::after{ opacity:1; }
  .btn.neon{ min-width:140px; padding:12px 18px; }
  .btn.ripple{ overflow:hidden; }
  /* ripple effect */
  .ripple-effect{ position:absolute; border-radius:50%; transform:translate(-50%,-50%); pointer-events:none; background:rgba(255,255,255,0.18); animation:rippleAnim 600ms ease-out; }
  @keyframes rippleAnim{ from{opacity:0.9; transform:translate(-50%,-50%) scale(0.2)} to{opacity:0; transform:translate(-50%,-50%) scale(3.2)} }

  .active-btn{ box-shadow:0 0 40px 8px rgba(255,60,112,0.18) !important; color:#fff !important; }

  .error{ color:#ff6f6f; text-align:center; display:none; margin-top:8px; }

  .no-db{ color:var(--accent-yellow); text-align:center; margin-top:12px; font-weight:600; }

  /* success list */
  .success-list{ padding-left:18px; margin-top:12px; color:#eaf6f4; }
  .success-list li{ margin-bottom:10px; font-size:1rem; line-height:1.45; }

  /* nicknames table */
  .nicknames-table{ width:100%; border-collapse:collapse; margin-top:8px; }
  .nicknames-table th, .nicknames-table td{ border:1px solid rgba(0,255,240,0.14); padding:8px 10px; color:#fff; text-align:left; }
  .nicknames-table th{ background:#2a0b31; color:var(--accent-cyan); font-family:'Orbitron',sans-serif; }

  /* story layout */
  .story-section{ margin-top:12px; line-height:1.7; color:#fff; text-align:left; }
  .story-section b{ display:block; margin-bottom:8px; }

  .emoji-reactions{ display:flex; gap:16px; justify-content:center; margin:12px 0; }
  .emoji-reaction-btn{ background:transparent; border:none; font-size:1.5rem; cursor:pointer; user-select:none; position:relative; }
  .emoji-reaction-count{ display:block; font-size:0.78rem; color:#fff799; text-align:center; margin-top:-6px; }

  /* teacher search */
  .teacher-search{ display:flex; justify-content:center; margin-top:10px; }
  .teacher-search-inner{ width:100%; max-width:520px; background:#0f1220; border-radius:12px; padding:8px 12px; display:flex; gap:8px; align-items:center; box-shadow:inset 0 -2px 18px rgba(0,0,0,0.6); }
  .search-input{ flex:1; border:none; background:transparent; outline:none; color:#fff; font-size:1rem; }
  .search-glow{ position:absolute; inset:6px; border-radius:12px; pointer-events:none; background:linear-gradient(90deg, rgba(0,255,240,0.03), rgba(114,0,255,0.02), rgba(255,60,112,0.03)); filter:blur(8px); opacity:0.22; }

  /* final page */
  .final-note{ font-size:1rem; line-height:1.6; color:#fff; text-align:left; }

  /* canvas */
  canvas#fw{ position:fixed; left:0; top:0; width:100%; height:100%; z-index:6; pointer-events:none; }

  /* responsive */
  @media (max-width:720px){
    .card{ padding:18px; border-radius:14px; }
    .title-line{ font-size:1.4rem; }
    .emoji-float{ font-size:28px !important; }
  }
</style>
</head>
<body>
  <!-- Aurora, sparkles, emojis -->
  <div class="aurora" aria-hidden="true"></div>
  <div class="sparkles" id="sparkles" aria-hidden="true"></div>
  <div class="emoji-bg" id="emojiBg" aria-hidden="true"></div>

  <!-- progress -->
  <div class="progress-wrap">
    <div class="progress-outer">
      <div class="progress-inner" id="progressBar"></div>
    </div>
  </div>

  <div class="page-wrap">
    <!-- LOGIN CARD -->
    <section id="loginContainer" class="card" aria-labelledby="loginTitle">
      <div class="title-line" id="loginTitle"><span class="friends-pastel">F.R.I.E.N.D.S.</span></div>

      <h2 class="section-title">NAAM</h2>
      <div class="input-group">
        <input id="naam" class="field" type="text" placeholder=" " autocomplete="off" />
        <label class="label" for="naam">Naam likho (Enter your name)</label>
      </div>

      <h2 class="section-title">JINDA</h2>
      <div class="btn-row" id="jindaGroup" role="group" aria-label="Jinda options">
        <button class="btn ripple" id="haa" type="button">HAA</button>
        <button class="btn ripple" id="naa" type="button">NAA</button>
      </div>
      <input type="hidden" id="jinda" required>
      <div class="error" id="jindaError">Select HAA or NAA</div>

      <div class="input-group" style="margin-top:14px;">
        <textarea id="say" class="field" placeholder=" "></textarea>
        <label class="label" for="say" style="top:12px; left:14px; font-size:0.95rem;">Say something to me:</label>
      </div>
      <div class="error" id="sayError">Please say something!</div>

      <div style="display:flex; justify-content:center; gap:12px; margin-top:10px;">
        <button id="submitBtn" class="btn neon ripple" type="button">THOKO</button>
      </div>

      <div class="no-db" aria-hidden="true">ğŸ˜† No database here, so your data just vanishes like my motivation on Monday!</div>
    </section>

    <!-- SUCCESS CARD -->
    <section id="successBox" class="card" aria-hidden="true" style="display:none;">
      <div style="font-size:3.2rem; text-align:center; margin-bottom:8px;">ğŸ˜ˆ</div>
      <h1 style="font-family:'Orbitron',sans-serif;color:var(--accent-cyan);text-align:center;margin:0 0 12px;">DOSTI YAARI EMOTIONS</h1>

      <ul class="success-list">
        <li>1. Yaar sach bolu toh tum log bahut yaad aa rahe ho.</li>
        <li>2. Aise lagta hai jaise koi part of life missing ho.</li>
        <li>3. Pehle har din masti hoti thi, ab sirf kaam aur boredom hai.</li>
        <li>4. Woh choti-choti baatein, lame jokes, aur nonstop bakchodi â€” sab yaad aati hai.</li>
        <li>5. Kabhi kabhi toh pura flashback chal jaata hai dimaag mein.</li>
        <li>6. Tum logon ke bina har plan adhoora lagta hai.</li>
        <li>7. Group chat mein bhi ab woh dhamaka nahi raha.</li>
        <li>8. Seriously, milna chahiye jaldi, warna yaadon se hi dosti karni padegi.</li>
        <li>9. Chal, koi ek plan banate hain â€” time, jagah fix karo!</li>
        <li>10. Tum sab jaise dost dobara nahi milte... bas mil jao ab wapas! ğŸ¤Ÿ</li>
      </ul>

      <div style="text-align:center; margin-top:14px; color:var(--accent-yellow);">You can close this tab now. Have a great day!</div>

      <div style="display:flex; justify-content:center; margin-top:16px;">
        <button id="toNicknamesBtn" class="btn neon ripple">THOKO ALSO</button>
      </div>
    </section>

    <!-- NICKNAMES (kept minimal, optional editable) -->
    <section id="nicknamesPage" class="card" aria-hidden="true" style="display:none;">
      <div style="text-align:center; margin-bottom:8px;">
        <div style="font-family:'Orbitron',sans-serif; font-size:1.25rem; color:var(--accent-cyan)">Nicknames & Memories</div>
      </div>
      <table class="nicknames-table">
        <thead><tr><th>Original Name</th><th>Nickname / Note</th></tr></thead>
        <tbody>
          <tr><td>Example</td><td>Example Nick</td></tr>
        </tbody>
      </table>
      <div style="display:flex; justify-content:center; margin-top:14px;">
        <button id="toStoryFromNicknamesBtn" class="btn neon ripple">TO STORY</button>
      </div>
    </section>

    <!-- STORY -->
    <section id="storyPage" class="card" aria-hidden="true" style="display:none;">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div style="font-size:1.4rem;font-family:'Orbitron',sans-serif;">Hello doston! ğŸ‘¿ğŸ¤˜</div>
      </div>

      <div class="emoji-reactions" id="emojiReactions1">
        <button class="emoji-reaction-btn" data-emoji="ğŸ˜‚">ğŸ˜‚<span class="emoji-reaction-count" id="emojiCount-ğŸ˜‚">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="ğŸ˜ˆ">ğŸ˜ˆ<span class="emoji-reaction-count" id="emojiCount-ğŸ˜ˆ">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="ğŸ¤™">ğŸ¤™<span class="emoji-reaction-count" id="emojiCount-ğŸ¤™">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="ğŸ¤˜">ğŸ¤˜<span class="emoji-reaction-count" id="emojiCount-ğŸ¤˜">0</span></button>
      </div>

      <div class="teacher-search" aria-hidden="false">
        <div class="teacher-search-inner" style="position:relative;">
          <span style="color:rgba(0,255,240,0.7); margin-right:8px;">ğŸ”</span>
          <input id="teacherSearch" class="search-input" placeholder="Type to search teachers..." autocomplete="off" />
          <div class="search-glow" aria-hidden="true"></div>
        </div>
      </div>

      <div class="story-section">
        <b>School ke teachers aur unki yaadein:</b><br>
        <ul id="teachersList">
          <li><b>Rishav Sir</b>:<br>Saatvi mein aaye, thoda style dikhane lage,
Krish ke saath football ke kisse sunane lage.
Maths ki trick se sabko gumaan mein daalne lage,
Girls ke dil mein silently bas jaane lage. ğŸ’«<br>

Aathvi mein aaye, class teacher bane khaas,
Science weak tha, par bataya kaise hota hai paas.
Support mila unse, har sawal ka mila ulta-jawaab,
Guidance mein unka tha ek alag hi andaaz. âœ¨<br>

Phir hostel gaye, hum bhi piche-piche nikal gaye,
Football ke field mein Josh ke saath mil gaye.
Shuru mein laga, bhai kya mast game hai bhai,
Par kuch dino mein samjha â€” sir toh goal banake bas pass hi kar gaye! ğŸ˜…<br>

Saatvi se dasvi tak mila unka pyaar,
Kabhi na lage ki sir door ho to ho intezaar.
Har mor pe kiya help, na chhoda kabhi yeh yaar,
Rishav sir jaise teacher â€” milte hain bade dildaar! â¤ï¸
                <br> Vo gaane gaana.. Vo bachchon ko dusre duniyaan ka shair karana kuch alag hi tha unka pyarğŸ’</li><br>

          <li><b>Chandraketu Sir</b>:<br>Dekha tha pehle bhi, kabhi is ma'am ke saath, kabhi uske saath,
Par mulaqat hui theek se 9th mein, class teacher ke path.
Sportive the itne, ke ghar baat karni ho toh bolo saaf,
Kuch mangwana ho toh bolo â€” jaise teacher nahi koi bhai ka raaf! ğŸ˜„<br>

Prantik ka rakhte the khaas khayaal, dil se karte the care,
Par uss extra pyaar ne banaya kuch aur students ko beware.
Complain hui, mood change hua, aur badal gaya poora flair,
Kabhi chill sir, ban gaye serious â€” laga ho gaya unfair. ğŸ˜…<br>

Pehle padhate-padhate phone mein kho jaate the mast,
Phir achanak kitabon se ban gaya unka vishwas ka rasta sasta aur past.
Lekin yaad hai ek scene, jiska maza sabne liya tha hardcast â€”
Arnav ko bola, "I welcome you," aur sabka ho gaya burst-blast! ğŸ’¥<br>

Kabhi pyaar se, kabhi dosti se, kabhi phone se judte the sir,
Chandraketu sir jaise teachers â€” yaadon mein reh jaate hain zarur.
Thoda hassi, thoda gussa, thoda sweet aur thoda blur,
Par ek baat pakki â€” unke bina class lagti thi bilkul bas "dull" aur "burr"! ğŸ˜Œ<br>
              Board pe chalk uthake jab likhne ka aata tha scene,
Par finger hoti thi middle, aur class ho jaati silent screen.
Koi kuch na bole, sab aankhon se karte the baat,
Ek dusre ko dekh muskaate, le lete mazaak ka swaad. ğŸ˜  </li>

          <li><b>Sudhakar Sir</b>:<br>Pehchaan thi pehle se, exam department ke the star,
Class 9th mein aaye tab mila unka asli avataar.
Janwar ki tarah marte the, karte na kisi se vyavahaar,
Homework ka tha dher, aur aankhon mein bas tha maar! ğŸ˜¬<br>

Kahi se aate, maar ke jaate, bas dhoondte the bahana,
Na koi hello, na haan, bas chalti thi unki purani kahaniyana.
Par department wale the, to kabhi help ka milta tha khazana,
Samajh aaya â€” daant ke peeche bhi tha ek asliyat ka thikana. ğŸ“˜<br>

Do period ke baad le jaate games mein, hota tha sukoon,
Class se bahar nikalte hi milta tha ek naya junoon.
N.C.E.R.T. ke alawa kuch mat padho, bas yahi tha unka kanoon,
Lekin unke motivation ne, bana diya padhai ka bhi ek khoobsurat dhoon. ğŸ¯<br>

Baat-baat mein mazaak bhi karte, muskurahat thi andekhi,
Help karte the chhupke se, unki niyat thi kuch alag si dekhi.
Sudhakar Sir â€” the strict bhi, sweet bhi, thode se unique the sahi,
Unke jaise teacher ho toh darr bhi lage... aur lage yaari bhi kahi! â¤ï¸<br> </li>

          <li><b>Divya Jyoti Mam</b>: Science ki queen, masti ki machine.</li>
          <li><b>Sujit & Pratyush Sir</b>: Hamare superheroes, hamesha ready to help.</li>
          <li><b>Vikash Sir</b>: "Padho na ji, exam sir pe hai!"</li>
          <li><b>Arun Sir</b>:<br> Civics padhate the, par gungaan tha BJP ka raag,
Har class mein lagta tha jaise ho rahi ho koi bhaashan ki aag.
Helpful the zarur, par gussa aaye toh ban jaayein tiger ka swaroop,
Tab toh bas chup rehna tha, warna milta tha ek political dhoop. ğŸ”¥<br>

Motivation ka the storehouse, baatein karte the dil se,
Par har line ke baad aata tha â€“ â€œMain bhi hoon na ek misaal iss silsile se!â€
Line thi unki favourite â€“ â€œDusro ki jay se pehle apni jay kare,â€
Aur ussi mein unka swagger tha â€” "main kya kam hoon yeh sabko pata chale!" ğŸ˜<br>

Personal life bhi humse share karte, jaise ho ghar ki party,
"Aaj Pihu ke liye chappal liya â€” batao bhai, kaisi lagti hai Smarty?" ğŸ‘¡<br>
Explaining mein no doubt top-level ka tha unka flow,
Par likhna padta tha sirf notes ka hi answer â€” chahe sense ho ya no! ğŸ“„<br></li>

          <li><b>Principal Sir</b>: "I sham on you boys!" - sabko yaad hai!</li>
          <li><b>Prantik & Chandraketu Sir</b>: Chemistry wali chemistry! ğŸ˜</li>
          <li><b>Nishant Sir</b>: Bindaas, no filter!</li>
          <li><b>Neeraj Sir</b>: Jee-NEET wala gyaan.</li>
          <li><b>Ujjwal Sir</b>:<br>The pehle se school mein, par 2019 ke pehle chale gaye the door,
Par jab zarurat padi maths ki, toh wapas aaye ban ke noor.
Unke aate hi bhaiya log bole â€“ â€œSir toh hai top class,â€
Unke naam se hi ho gaya, poori class ka blast! ğŸ”¥<br>

Class 9th mein mila unse pehli baar, aur kya hi mila tha yaar,
Entry lete hi laga jaise â€“ "ab toh padayi lagegi maar!" ğŸ˜…<br>
Tough se tough concept ko bana dete the asaan,
Aur unka IIT ka experience â€“ bhai wah, bilkul tha mahaan! ğŸ“<br>

Kabhi-kabhi physics ka bhi basic samjha dete the pyar se,
Concept clear karna tha unka kaam, bina kisi bhitar ke shor se.
10th tak toh guide kiya har mod pe bina rukawat ke,
Aur 10th ke baad bhi samjhaya â€“ "life ka road map kya leke!" ğŸ›£ï¸<br></li>

          <li><b>Guddu Sir</b>: "Tor dunga!"</li>
          <li><b>Ranjan Sir</b>: "Kut dunga!" & funny towel kahaniyan.</li>
          <li><b>Undranil Sir</b>: DJ Snake + BP Check = Allrounder!</li>
          <li><b>Kundan Sir</b>: YouTube projector, mini-theatre.</li>
          <li><b>Sudipto Sir</b>: Hamari pareshaniyon ka shikar.</li>
          <li><b>Manoranjan Sir</b>: Philosopher king.</li>
          <li><b>Simon Sir</b>: G** phaad marna since 5th!</li>
          <li><b>Ravi Sir</b>: Notes likhwane ki machine.</li>
          <li><b>DB Wandgr Sir</b>: Chutney ki recipe aur haryali jokes.</li>
          <li><b>Premlata Maâ€™am & Raushan</b>: Maa-beta jodi, suspense queen.</li>
          <li><b>DK Jha Sir</b>: "Ye log padne waale nahi lagte!"</li>
          <li><b>Archana Maâ€™am</b>: Naam lete hi censored ho jaata hai. ğŸ¤</li>
        </ul>
      </div>

      <div style="display:flex; justify-content:center; margin-top:16px;">
        <button id="toWardenBtnFromStory" class="btn neon ripple">THOKO NA RE</button>
      </div>
    </section>

    <!-- WARDEN -->
    <section id="wardenPage" class="card" aria-hidden="true" style="display:none;">
      <div class="emoji-reactions" id="emojiReactions2">
        <button class="emoji-reaction-btn" data-emoji="ğŸ˜">ğŸ˜<span class="emoji-reaction-count" id="emojiCount2-ğŸ˜">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="ğŸ–•">ğŸ–•<span class="emoji-reaction-count" id="emojiCount2-ğŸ–•">0</span></button>
        <button class="emoji-reaction-btn" data-emoji="ğŸ¤">ğŸ¤<span class="emoji-reaction-count" id="emojiCount2-ğŸ¤">0</span></button>
      </div>

      <div class="story-section">
        <b>Hamare Hostel ke Warden:</b>
        <ul>
          <li><b>Deepak Sir (3rd Floor):</b> "Ek mukka denge na..." Admission number yaad rakhna!</li>
          <li><b>2nd Floor ka warden:</b> (Yahan apna funny yaadgar moments add karo!)</li>
        </ul>
      </div>

      <div style="display:flex; justify-content:center; margin-top:16px;">
        <button id="toFinalBtnFromWarden" class="btn neon ripple">THOKO</button>
      </div>
    </section>

    <!-- FINAL -->
    <section id="finalPage" class="card" aria-hidden="true" style="display:none;">
      <div class="story-section">
        <b>Toh doston...</b><br>
        Ye thi hamari school life ki original web series â€“<br>
        Full drama, full comedy, thoda romance, thoda action aur full emotion.<br><br>
        Teachers ka gussa ho ya unka pyaar, unhone sabko kuch na kuch sikhaya zaroor.<br>
        Aur ye yaadein... humesha yaad rahengi.<br><br>
        Thank you sabko â€“ teachers, friends aur in yaadon ko banane wale har ek insaan ko.<br>
        <hr>
        <span class="emoji">ğŸ¤Ÿ</span> Jai school life, jai nostalgia!
      </div>
    </section>
  </div>

  <!-- fireworks canvas -->
  <canvas id="fw"></canvas>

<script>
/* Utilities */
const $ = id => document.getElementById(id);
const rand = (a,b) => Math.random()*(b-a)+a;

/* Sparkles */
(function createSparkles(){
  const c = $('sparkles');
  if(!c) return;
  for(let i=0;i<18;i++){
    const s = document.createElement('div');
    s.className='spark';
    s.style.left = rand(0,100)+'vw';
    s.style.top = rand(0,100)+'vh';
    s.style.width = s.style.height = (rand(3,8))+'px';
    s.style.opacity = (rand(0.06,0.3)).toFixed(2);
    s.style.animationDuration = (rand(8,18))+'s';
    c.appendChild(s);
  }
})();

/* Emoji background */
(function emojiBG(){
  const EMOJIS = ["ğŸ’€","â˜ ï¸","ğŸ˜","ğŸ˜ˆ","ğŸ‘¿","ğŸ¤Ÿ","ğŸ¤˜","ğŸ–•","ğŸ¤™","ğŸ¤"];
  const box = $('emojiBg');
  if(!box) return;
  function addOne(){
    const el = document.createElement('span');
    el.className='emoji-float';
    el.textContent = EMOJIS[Math.floor(Math.random()*EMOJIS.length)];
    el.style.left = rand(-8,96) + 'vw';
    el.style.fontSize = rand(20,64) + 'px';
    const dur = rand(8,20);
    el.style.animationDuration = dur + 's';
    el.style.animationDelay = (-rand(0,12)) + 's';
    box.appendChild(el);
    setTimeout(()=> { if(el && el.parentNode) el.parentNode.removeChild(el); }, (dur+1)*1000);
  }
  for(let i=0;i<28;i++) addOne();
  setInterval(()=>{ for(let i=0;i<3;i++) addOne(); while(box.children.length>60) box.removeChild(box.children[0]); }, 2600);
})();

/* Page flow */
const order = ['loginContainer','successBox','nicknamesPage','storyPage','wardenPage','finalPage'];
function progressTo(id){
  let idx = order.indexOf(id);
  if(idx<0) idx = 0;
  const perc = Math.round((idx)/(order.length-1)*100);
  $('progressBar').style.width = perc + '%';
}

/* Ripple helper */
function rippleEffect(e){
  const btn = e.currentTarget;
  const rect = btn.getBoundingClientRect();
  const circle = document.createElement('span');
  circle.className = 'ripple-effect';
  circle.style.left = (e.clientX - rect.left) + 'px';
  circle.style.top = (e.clientY - rect.top) + 'px';
  circle.style.width = circle.style.height = Math.max(rect.width, rect.height) * 1.2 + 'px';
  btn.appendChild(circle);
  setTimeout(()=> circle.remove(), 650);
}

/* Connect ripple to buttons with .ripple */
document.querySelectorAll('.ripple').forEach(btn => {
  btn.addEventListener('click', rippleEffect);
});

/* HAA / NAA */
$('haa').addEventListener('click', ()=>{ $('haa').classList.add('active-btn'); $('naa').classList.remove('active-btn'); $('jinda').value='HAA'; $('jindaError').style.display='none'; });
$('naa').addEventListener('click', ()=>{ $('naa').classList.add('active-btn'); $('haa').classList.remove('active-btn'); $('jinda').value='NAA'; $('jindaError').style.display='none'; });

/* THOKO (submit) */
$('submitBtn').addEventListener('click', function(e){
  e.preventDefault();
  let valid = true;
  if(!$('jinda').value){ $('jindaError').style.display='block'; valid=false; } else $('jindaError').style.display='none';
  if(!$('say') || !$('say').value.trim()){ $('sayError').style.display='block'; valid=false; } else $('sayError').style.display='none';
  if(!valid) return;
  // show success
  $('loginContainer').style.display='none';
  $('successBox').style.display='block';
  progressTo('successBox');

  // small personalized note
  const nameV = $('naam').value.trim() || 'Dost';
  const note = document.createElement('div');
  note.style.marginTop='12px'; note.style.textAlign='center'; note.style.color='#c7fff3'; note.style.fontWeight='600';
  note.className='forNameNote';
  note.innerText = `Hey ${nameV}, this is for you â€” Happy Teacher's Day!`;
  const existing = $('successBox').querySelector('.forNameNote');
  if(existing) existing.remove();
  $('successBox').appendChild(note);
});

/* Navigation wiring (unique IDs) */
$('toNicknamesBtn').addEventListener('click', function(e){
  e.preventDefault();
  $('successBox').style.display='none';
  $('nicknamesPage').style.display='block';
  progressTo('nicknamesPage');
});
$('toStoryFromNicknamesBtn').addEventListener('click', function(e){
  e.preventDefault();
  $('nicknamesPage').style.display='none';
  $('storyPage').style.display='block';
  progressTo('storyPage');
});
$('toWardenBtnFromStory').addEventListener('click', function(e){
  e.preventDefault();
  $('storyPage').style.display='none';
  $('wardenPage').style.display='block';
  progressTo('wardenPage');
});
$('toFinalBtnFromWarden').addEventListener('click', function(e){
  e.preventDefault();
  $('wardenPage').style.display='none';
  $('finalPage').style.display='block';
  progressTo('finalPage');
  startFireworks(); // run fireworks
});

/* Emoji reactions */
function setupReactions(containerId){
  const el = $(containerId);
  if(!el) return;
  el.querySelectorAll('.emoji-reaction-btn').forEach(btn => {
    btn.addEventListener('click', ()=>{
      const span = btn.querySelector('.emoji-reaction-count');
      let n = parseInt(span.textContent||'0',10);
      n++; span.textContent = n;
      btn.classList.add('active-btn');
      setTimeout(()=> btn.classList.remove('active-btn'), 350);
    });
  });
}
setupReactions('emojiReactions1');
setupReactions('emojiReactions2');

/* Teacher search highlight */
(function teacherSearch(){
  const inp = $('teacherSearch'), list = $('teachersList');
  if(!inp || !list) return;
  inp.addEventListener('input', function(){
    const filter = inp.value.trim().toLowerCase();
    const items = list.querySelectorAll('li');
    items.forEach(li => {
      const b = li.querySelector('b');
      const name = b ? b.textContent : li.textContent;
      if(filter === '' || name.toLowerCase().includes(filter) || li.textContent.toLowerCase().includes(filter)){
        li.style.display='';
        if(filter && b){
          const re = new RegExp('(' + filter.replace(/[.*+?^${}()|[\]\\]/g,'\\$&') + ')','gi');
          b.innerHTML = b.textContent.replace(re, "<span style='background:rgba(0,255,240,0.12); color:var(--accent-pink); padding:0 4px; border-radius:3px;'>$1</span>");
        } else if(b){
          b.innerHTML = b.textContent;
        }
      } else li.style.display='none';
    });
  });
})();

/* Canvas fireworks */
(function fireworks(){
  const canvas = $('fw');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  function resize(){ canvas.width = innerWidth; canvas.height = innerHeight; }
  addEventListener('resize', resize);
  resize();
  let particles = [];
  function Particle(x,y,color){
    this.x=x; this.y=y;
    const ang = Math.random()*Math.PI*2;
    const speed = rand(1,6);
    this.vx = Math.cos(ang)*speed;
    this.vy = Math.sin(ang)*speed;
    this.alpha = 1;
    this.size = rand(1.6,3.8);
    this.color = color;
  }
  Particle.prototype.update = function(){
    this.x += this.vx; this.y += this.vy; this.vy += 0.02; this.alpha -= 0.02;
  }
  Particle.prototype.draw = function(){
    ctx.globalAlpha = Math.max(0,this.alpha);
    ctx.fillStyle = this.color;
    ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill();
    ctx.globalAlpha = 1;
  }

  function burst(x,y){
    const colors = ['#ff3c70','#00fff0','#ffe66d','#ff8c42','#9b5cff'];
    for(let i=0;i<70;i++) particles.push(new Particle(x,y, colors[Math.floor(Math.random()*colors.length)]) );
  }

  let running = false, burstTimer = null;
  function loop(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.update(); p.draw();
      if(p.alpha <= 0) particles.splice(i,1);
    }
    if(running) requestAnimationFrame(loop);
  }

  window.startFireworks = function(){
    if(running) return;
    running = true; loop();
    burstTimer = setInterval(()=> burst(rand(100,canvas.width-100), rand(100,canvas.height-120)), 700);
    setTimeout(()=>{ clearInterval(burstTimer); setTimeout(()=> running=false, 5200); }, 9000);
  };
})();

/* Accessibility: Enter to submit from name */
$('naam').addEventListener('keydown', e => { if(e.key === 'Enter'){ e.preventDefault(); $('submitBtn').click(); } });
if($('say')) $('say').addEventListener('keydown', e => { if(e.key === 'Enter' && (e.ctrlKey||e.metaKey)){ e.preventDefault(); $('submitBtn').click(); } });

/* initialize progress */
progressTo('loginContainer');

</script>
</body>
</html>
